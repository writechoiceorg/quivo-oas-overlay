---
title: Manage Webhooks
---

Webhooks allow your system to receive real-time notifications from Quivo. Instead of polling for status changes, Quivo pushes data to your server via an HTTP POST request whenever a specific event occurs.

## Prerequisites

Before you start, ensure you have:

- **API Credentials:** Your API key and a valid session token.
- **Seller ID:** The unique integer ID for your merchant account.
- **A Public URL:** A secure endpoint (HTTPS) on your server capable of receiving JSON POST requests.

## Step 1: Create a subscription

To start receiving notifications, you must tell Quivo which entity to watch and where to send the data via the `POST /subscriptions` endpoint:

You need to construct a JSON payload containing your `sellerId`, the entity type, and the endpoint configuration.

The following table lists the supported entities and the events that trigger them:

| Entity | Triggers On |
|--------|-------------|
| `ORDERS` | Order creation, status changes (for example, to `PROCESSING`). |
| `SHIPMENTS` | Shipment creation, tracking updates (for example, `IN_TRANSIT`, `DELIVERED`). |
| `INBOUNDS` | Inbound shipment status changes. |
| `RETURNS` | When a return is created or received at the warehouse. |

The following example shows how to subscribe to `SHIPMENTS` updates. Replace the placeholder values with your actual data.

```bash
curl -X POST "${BASE_URL}/subscriptions" \
  -H "X-Api-Key: <YOUR_STATIC_API_KEY>" \
  -H "Authorization: <YOUR_SESSION_TOKEN>" \
  -H "Content-Type: application/json" \
  -d '{
    "sellerId": <YOUR_SELLER_ID>,
    "entity": "SHIPMENTS",
    "endpoint": {
      "type": "WEBHOOK",
      "url": "<YOUR_WEBHOOK_URL>"
    }
  }'
```

<Note>
  Replace the placeholders with your actual values:
  - `<YOUR_SELLER_ID>` should be an integer
  - `<YOUR_WEBHOOK_URL>` should be a valid HTTPS URL
  - Replace `${BASE_URL}` with your environment URL (for example, `https://api.quivo.co`)
</Note>

If successful, the API returns the created subscription object with a unique `uuid`. Save this UUID. You need it to delete the subscription later.

```json
{
  "uuid": "<YOUR_SUBSCRIPTION_UUID>",
  "sellerId": <YOUR_SELLER_ID>,
  "entity": "SHIPMENTS",
  "endpoint": {
    "type": "WEBHOOK",
    "url": "<YOUR_WEBHOOK_URL>"
  }
}
```

## Step 2: List active subscriptions

To see all webhooks currently configured for your account, use the GET method via the `GET /subscriptions` endpoint:

The following example shows how to list all active subscriptions. Replace the placeholder values with your actual data.

```bash
curl -X GET "${BASE_URL}/subscriptions" \
  -H "X-Api-Key: <YOUR_STATIC_API_KEY>" \
  -H "Authorization: <YOUR_SESSION_TOKEN>"
```

The response returns an array of all active subscriptions. The following example shows the structure of the response:

```json
[
  {
    "uuid": "<YOUR_SUBSCRIPTION_UUID>",
    "sellerId": <YOUR_SELLER_ID>,
    "entity": "SHIPMENTS",
    "endpoint": {
      "type": "WEBHOOK",
      "url": "<YOUR_WEBHOOK_URL>"
    }
  },
  {
    "uuid": "<YOUR_SUBSCRIPTION_UUID>",
    "sellerId": <YOUR_SELLER_ID>,
    "entity": "ORDERS",
    "endpoint": {
      "type": "WEBHOOK",
      "url": "<YOUR_WEBHOOK_URL>"
    }
  }
]
```

## Step 3: Delete a subscription

If you no longer want to receive notifications for a specific event, delete the subscription using its UUID via the `DELETE /subscriptions/{uuid}` endpoint:

The following example shows how to delete a subscription using its `uuid`. Replace the placeholder values with your actual data.

```bash
curl -X DELETE "${BASE_URL}/subscriptions/<YOUR_SUBSCRIPTION_UUID>" \
  -H "X-Api-Key: <YOUR_STATIC_API_KEY>" \
  -H "Authorization: <YOUR_SESSION_TOKEN>"
```

The response returns a `200 OK` or `204 No Content` response indicating the webhook was successfully removed.

## Best practices for handling webhooks

- **Return 200 OK immediately:** When your server receives a webhook, acknowledge it immediately with a 200 status code. Perform complex processing (like database updates or sending emails) asynchronously to prevent timeout errors.
- **Idempotency:** Your system might receive the same webhook event more than once. Ensure your code handles duplicates gracefully (for example, by checking if the `orderId` or event timestamp has already been processed).
- **Security:** Ensure your endpoint is HTTPS.

